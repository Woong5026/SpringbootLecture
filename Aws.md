![image](https://user-images.githubusercontent.com/78454649/141721237-891f2b0d-8a51-456e-a543-b37053ee7f66.png)

### RDS

- 장점

간단한 사용법 - 몇 번의 클릭으로 원하는 인스턴스, 버전, 설정셋을 적용한 인스턴스가 수분 내에 생성됨

간편한 백업 - 등록된 데이터를 S3의 스냅샷 기능으로 백업이 가능

스토리지 및 iops(단위 시간당 읽기/쓰기 횟수)확장이 용이함

데이터베이스 소프트웨어를 패치하거나 데이터베이스를 백업하거나 시점 복구를 활성화하는 것과 같은 복잡한 관리 프로세스들은 자동으로 관리

- 단점

RDS와 EC2의 비슷한 스토리지를 비교할 경우 RDS가 EC2보다 약 40~68% 정도 비싸다고 합니다.

read 용 replica의 개수는 5개로 제한이 되어 있어서 엄청난 read 서비스라면 RDS에서 불가능 할 수도 있다.

- 사용이유

1. 프로젝트에 쓰일 데이터베이스는 여러명의 팀원들이 같이 사용할 수 있어야 하고, 개개인이 각자의 데이터베이스를 구축하게 되면 테스트 환경의 차이로 인해 여러 문제가 발생할 수 있기 때문이다.

각자의 데이터베이스를 사용할 시 세팅이 서로 다른 문제가 있어 테스트하는데 적합하지 않으며, 여러 명이 사용할 시에는 데이터베이스의 데이터도 다르므로 테스트에 문제가 있을 수 있다.

2. 서버 배포시에 나의 컴퓨터를 데이터베이스 서버로 이용하는 것은 성능적이나 보안적인 부분에서 많은 문제가 발생할 수 있기 때문이다. 

---

### 로드 밸런싱

하나의 인터넷 서비스가 발생하는 트래픽이 많을 때 여러 대의 서버가 분산처리하려 서버의 로드율 증가, 부하량, 속도 저하

등을 고려하여 트래픽을 적절하게 분산처리하는 시스템

- 스케일 아웃(Scale-out)

![image](https://user-images.githubusercontent.com/78454649/141728255-2057f0b6-0469-495e-b0b9-82b5770d8aa8.png)

Scale-out이란, 기존의 서버와 같은 사양 또는 비슷한 사양의 서버 대수를 증가시키는 방법으로 처리 능력을 향샹시키는 것입니다. 
스케일 아웃 방식을 "수평 스케일"이라고 부르기도 하고, 확장이 스케일 업보다는 다소 유연하다고 합니다.

사용자가 늘어남에 따라 서버는 부하가 생겼다. 이에 따라 개발자들은 이 부하를 어떻게 하면 좋을까? 고민을 한 결과,

- 장점

서버 한 대가 장애로 다운되더라도 다른 서버로 서비스 제공이 가능하다는 장점이 있다.

용량, 성능 확장에 한계가 없다. 하드웨어를 변경하는 것이 아닌 비슷한 성능의 서버를 여러 대 두는 방법이기 때문에, 확장이 무제한 가능하다.

즉, 단일 서버에 작업이 쌓여서 멈춰있는 병목현상을 줄일 수 있다.

- 단점

여러 대의 서버로 돌아가기 때문에  데이터 정합성 이슈(데이터가 일관되지 않는 문제)가 생길 수 있다.

그에따라 모든 서버에서 데이터 일관성을 유지해야하기 때문에 설계 및 관리가 복잡하다.

### ELB

사용자 정책에 따라서 시스템을 자동으로 늘리고 줄여주는 서비스이다.

갑자기 트래픽이 폭주하였을 때 서버들의 CPU사용량이 점점 높아지고 사용자가 정의한 수치가 되었을 때 자동적으로 시스템을 확장하여 부하를 분산시켜주는 장치

사용이유 : https://www.slideshare.net/awskr/awskug2-vcnc

로드 밸런서를 구매하려면 비용이 많이 들고, 이를 설치하고 구축하는데 상당히 번거롭다

때문에 AWS에서는 쉽게 로드 밸런서를 만들고 사용할수 있도록 인터페이스를 제공해준다.


- 설정방법

  1> 인터넷 접속 엔드포인트를 ELB로 지정한다. 
  
  2> ELB는 IP 주소가 아닌 CNAME(대체 도메인 이름) 을 지정하여 접속한다. ELB는 고정 IP를 사용하지 않기 때문에 계속 IP주소가 변하기 때문이다. 
  
  3> DNS 서버인 아마존 라우트 53을 이용하여 ELB의 CNAME과 사용할 도메인 이름을 연결신다. 
  
  4> 이러한 설정에 의해 최종 사용자들은 도메인 이름을 통해 ELB에 접속할 수 있게 된다. 
  
  5> 다음은 ELB와 EC2 인스턴스를 연결 시킨다. ELB 작성 페이지에서 이미 만들어진 웹 서버를 선택한다. 이것으로 ELB에 의한 부하 분산 설정이 완료된다.


- nginx 로드 밸런서 vs AWS ELB

Aws

AWS ELB의 단점은 여러 애플리케이션 또는 서비스를 지원하는 데 필요한 별도의 Load Balancer 인스턴스를 생성해야 한다는 것

기본요금이 classic 기준 시간당 $ 0.025

nginx

nginx는 별도로 인스턴스를 구성할 필요는 없습니다

nignx는 무료, 물론 고가용성을 위해서는 이것 역시 구매해야 하지만 소규모인 경우 nginx 설정만으로 대체가 가능

nginx의 단점은 구성하기 위해서 구성 및 업데이트하는 데 필요한 추가 노력과 고급 지식이 요구
 
 




- 일단 ebl 로드 밸런싱을 하기 전에 부하테스트가 되어야 할 것 같다 > 부하테스트를 거친 후 사용성이 입증되면 사용하던가 미리 사용자가 늘어날 것을 대비하여 설치하던가








