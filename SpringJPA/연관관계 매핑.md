
## 연관관계 매핑

객체는 reference(member.getId 와 같은 것)로 연관관계를 매핑 / 테이블은 연관관계를 외래키로 매핑

방향(Direction): 단방향, 양방향

다중성(Multiplicity): 다대일(N:1), 일대다(1:N), 일대일(1:1), 다대다(N:M) 이해

연관관계의 주인(Owner): 객체 양방향 연관관계는 관리 주인이 필요

+ 객체를 테이블에 맞춰 매핑할 때 문제점

```java
            Team team = new Team();
            team.setName("TeamA");
            em.persist(team);

            Member member = new Member();
            member.setUsername("member1");
            // 여기서 멤버를 팀에 소속 시키고 싶다면?
            member.setTeamId(team.getId());
            em.persist(member);
```

위의 방법은 외래키 식별자를 직접 다루는 것이기에 객체 지향에 맞지 않음, 

또한 find 시 해당 멤버가 어디에 속하는지 조회할때도 JPA에게 계속 물어봐야하고 DB에 계속 물어봐야 함 >> 연관관계가 없기 때문!

+ 단방향 연관관계


```java
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(name = "MEMBER_ID")
    private Long id;

    @Column(name = "USERNAME")
    private String username;

//    @Column(name = "TEAM_ID")
//    private Long teamId;

    // 하나의 팀에는 여러 멤버가 있다 . 멤버 입장에서 manyToOne
    @ManyToOne
    @JoinColumn(name = "TEAN_ID") // 조인하는 컬럼 
    **private Team team;**
```























